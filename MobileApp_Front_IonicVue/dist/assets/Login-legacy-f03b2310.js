System.register(["./index-legacy-0ff49c16.js","./ExploreContainer-legacy-532c6f19.js"],(function(e,t){"use strict";var a,n,r,l,o,i,s,u,d,m,c,p,f,v,g,h,y,_,b,w,E,x,C,I,k,q,R,S,L,M,z,F,T,j=document.createElement("style");return j.textContent=".error[data-v-4ce3def3]{color:red}\n",document.head.appendChild(j),{setters:[e=>{a=e.I,n=e.a,r=e.b,l=e.c,o=e.d,i=e.F,s=e.E,u=e.l,d=e.r,m=e.m,c=e.u,p=e.n,f=e.p,v=e.q,g=e.s,h=e.v,y=e.x,_=e._,b=e.f,w=e.o,E=e.g,x=e.w,C=e.h,I=e.i,k=e.k,q=e.y,R=e.z,S=e.j,L=e.A,M=e.t,z=e.B,F=e.C},e=>{T=e.E}],execute:function(){f("customRequired",(e=>!(!e||""===e.trim())||"Champ obligatoire")),f("required",g),f("email",h),f("customEmail",(e=>!(!e||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))||"Entrez une adresse email valide")),f("min",y),f("password",(e=>!!/(?=.*[A-Z])/.test(e)||"Le mot de passe doit contenir au moins une lettre capitale")),v({generateMessage:e=>{var t;return null!==(t={customRequired:"Champ obligatoire",customEmail:"Entrez une adresse email valide",password:"Le mot de passe doit contenir au moins une lettre capitale",required:"Ce champ est obligatoire",min:"Le mot de passe doit avoir au moins 8 caractéres",email:"Entrez une adresse email valide"}[e.rule.name])&&void 0!==t?t:"This field is invalid"}});const t={components:{IonPage:a,IonHeader:n,IonToolbar:r,IonTitle:l,IonContent:o,ExploreContainer:T,Field:i,ErrorMessage:s,IonSpinner:u},setup(){const e=d(!1),{handleSubmit:t,resetForm:a,errors:n}=m(),r=d(!1),l=d(""),o=c(),i=p(),s=t((async t=>{e.value=!0;try{await o.login(t.email,t.password),i.push({path:"/home"})}catch(a){r.value=!0,console.log(a),l.value="Authenification échouée"}e.value=!1,setTimeout((()=>{l.value=""}),3e3)}));return{error:r,errorMessage:l,login:s,handleSubmit:t,errors:n,emailRules:"customRequired|email",passwordRules:"required|min:8|password",activeSpinner:e}}},j=e=>(z("data-v-4ce3def3"),e=e(),F(),e),A={key:0},P={key:0},B={key:0,class:"ion-text-center"},H=j((()=>k("br",null,null,-1))),Z=j((()=>k("br",null,null,-1))),$={key:0,class:"error ion-text-center"};e("default",_(t,[["render",function(e,t,a,n,r,l){const o=b("ion-title"),i=b("ion-toolbar"),s=b("ion-header"),u=b("ion-label"),d=b("ion-input"),m=b("ErrorMessage"),c=b("Field"),p=b("ion-item"),f=b("ion-button"),v=b("ion-spinner"),g=b("ion-content"),h=b("ion-page");return w(),E(h,null,{default:x((()=>[C(g,{fullscreen:!0},{default:x((()=>[C(s,null,{default:x((()=>[C(i,null,{default:x((()=>[C(o,{class:"ion-text-center"},{default:x((()=>[I("Login")])),_:1})])),_:1})])),_:1}),k("main",null,[k("form",{onSubmit:t[0]||(t[0]=q(((...e)=>n.login&&n.login(...e)),["prevent"]))},[C(p,null,{default:x((()=>[C(u,{position:"stacked"},{default:x((()=>[I("Email:")])),_:1}),C(c,{name:"email",rules:n.emailRules},{default:x((({field:e})=>[C(d,R({type:"text"},e,{autocomplete:"email"}),null,16),e.value?(w(),S("div",A,[C(m,{name:"email"})])):L("",!0)])),_:1},8,["rules"])])),_:1}),C(p,null,{default:x((()=>[C(u,{position:"stacked"},{default:x((()=>[I("Password:")])),_:1}),C(c,{name:"password",rules:n.passwordRules},{default:x((({field:e})=>[C(d,R({type:"password"},e,{autocomplete:"current-password"}),null,16),e.value?(w(),S("div",P,[C(m,{name:"password"})])):L("",!0)])),_:1},8,["rules"])])),_:1}),C(f,{expand:"full",type:"submit"},{default:x((()=>[I("Login")])),_:1}),n.activeSpinner?(w(),S("div",B,[H,Z,C(v,{color:"primary"})])):L("",!0)],32),n.error?(w(),S("div",$,M(n.errorMessage),1)):L("",!0)])])),_:1})])),_:1})}],["__scopeId","data-v-4ce3def3"]]))}}}));
